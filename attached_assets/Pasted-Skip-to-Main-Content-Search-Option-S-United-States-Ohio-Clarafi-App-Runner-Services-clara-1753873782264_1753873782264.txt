Skip to Main Content

Search
[Option+S]




United States (Ohio)

Clarafi

App Runner
Services
clarafi-emr
Edit
App Runner
Services
clarafi-emr
Edit


Edit clarafi-emr
Source and deployment
Source
Repository type
Container registry
Deploy your service using a container image stored in a container registry.
Source code repository
Deploy your service using the code hosted in a source repository.
Provider
Choose the provider where you host your code repository.

GitHub
Github Connection
Info
App Runner deploys your source code by installing an app called "AWS Connector for GitHub" in your account. You can install this app in your main GitHub account or in a GitHub organization.

Clarafi_Git_AWS
Add new
Repository

Clarafi

Branch

main

Source directory
The build and start commands will execute in this directory. App Runner defaults to the root directory if you don't specify a directory here.
/
Leading and trailing slashes ("/") are not required. Valid examples: "apps/targetapp", "/apps/targetapp/", "/targetapp"
Deployment settings
Deployment trigger
Manual
Start each deployment yourself using the App Runner console or AWS CLI.
Automatic
Every push to this branch that affects files in the specified Source directory deploys a new version of your service.
Configure build
Build settings
Configuration file
Configure all settings here
Specify all settings for your service here in the App Runner console.
Use a configuration file
Let App Runner read your configuration from the apprunner.yaml file in the source directory of your code repository. App Runner defaults to the root directory if a Source directory wasn't specified in the previous step.
Runtime
Choose an App Runner runtime for your service.

Nodejs 18
Build command
This command runs in the source directory of your repository when a new code version is deployed. Use it to install dependencies or compile your code. App Runner defaults to the root directory if a Source directory wasn't specified in the previous step.
npm install && npm run build
Start command
This command runs in the source directory of your service to start the service processes. Use this command to start a webserver for your service. The command can access environment variables that App Runner and you defined. App Runner defaults to the root directory if a Source directory wasn't specified in the previous step.
npm start
Port
Your service uses this TCP port.
8080
Configure service
Service settings
Service name
clarafi-emr
Virtual CPU

1 vCPU
Virtual memory

2 GB
Runtime environment variables - optional Info
Add environment variables in plain text or reference them from Secrets Manager  and SSM Parameter Store . Update IAM Policies using the IAM Policy template given below to securely reference secrets and configurations as environment variables.
Source

Plain text
Environment variable name
DATABASE_URL
Environment variable value
postgresql://clarafiadmin:Yregru$55555@clarafi-db.ca54qe20gs6u.us-east-1.rds.amazonaws.com:5432/postgres
Remove
Source

Plain text
Environment variable name
NODE_ENV
Environment variable value
production
Remove
Source

Plain text
Environment variable name
OPENAI_API_KEY
Environment variable value
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
Remove
Source

Plain text
Environment variable name
PORT
Environment variable value
8080
Remove
Source

Plain text
Environment variable name
SESSION_SECRET
Environment variable value
V/eLJo/BSgI7Wttns4rgXYSxUOitSfxiY+xy9a5uT6w=
Remove
Add environment variable
You can add up to 45 more items.
IAM policy templates for secrets
Copy the following IAM policy template to your Instance role to enable permissions to reference secrets and configurations from AWS Secrets Manager or SSM Parameter Store. Visit the IAM Console 

Secrets Manager

SSM Parameter Store
Copy
{
  "Statement": [
    {
      "Action": [
        "secretsmanager:GetSecretValue",
        "kms:Decrypt*"
      ],
      "Effect": "Allow",
      "Resource": [
        "arn:aws:secretsmanager:us-east-2:098819595270:secret:<secret_name>",
        "arn:aws:kms:us-east-2:098819595270:key/<key_id>"
      ]
    }
  ],
  "Version": "2012-10-17"
}
Auto scaling Info
Configure automatic scaling behavior.

Auto scaling configurations
Create
Existing configurations

DefaultConfiguration

v1

Concurrency
100 requests
Minimum size
1 instance(s)
Maximum size
25 instances
Health check Info
Configure load balancer health checks.

Security Info
Specify an Instance role and an AWS KMS encryption key

Permissions
Select an IAM role with permissions to AWS actions that your service code calls. To create a custom role, use the IAM console 

Instance role — conditional
Select an instance role to provide permission to your application code to call other AWS service actions (APIs). If you added environment variables stored in Secrets Manager or SSM Parameter Store, instance role is required. To create a custom role, use the IAM console .

Choose an Instance role

AWS KMS key
This key is used to encrypt the stored copies of your data.
Use an AWS-owned key
A key that AWS owns and manages for you.
Choose a different AWS KMS key
A key that you own or have permission to use.
Web Application Firewall Info
Activate WAF to define Web access control list (ACL) to protect against web exploits and bots. Learn more about WAF and pricing. 

Activate
Networking Info
Configure the way your service communicates with other applications, services, and resources.

Observability
Configure observability tooling.

Tags Info
Use tags to search and filter your resources, track your AWS costs, and control access permissions.

Tags — optional
A tag is a key-value pair that you assign to an AWS resource.
No tags associated with the resource.
Add new tag
You can add 50 more tags.
clarafi-emr edits
Summary of changes made to the service

Changes made to the Source and deployment, Configure build, and Configure service sections will appear here.
Cancel
Save and rebuild

CloudShell
Feedback
© 2025, Amazon Web Services, Inc. or its affiliates.
Privacy
Terms
Cookie preferences
You can add 50 more tags.You can add 50 more tags.You can add up to 45 more items.